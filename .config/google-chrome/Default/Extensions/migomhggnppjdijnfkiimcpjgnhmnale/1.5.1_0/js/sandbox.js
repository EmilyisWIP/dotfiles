(()=>{var e={2043:function(e,t,s){var n,o;!function(r,i){"use strict";n=function(){var e=function(){},t="undefined",s=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var s=e[t];if("function"==typeof s.bind)return s.bind(e);try{return Function.prototype.bind.call(s,e)}catch(t){return function(){return Function.prototype.apply.apply(s,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&s?r:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}function a(t,s){for(var o=0;o<n.length;o++){var r=n[o];this[r]=o<t?e:this.methodFactory(r,t,s)}this.log=this.debug}function l(e,s,n){return function(){typeof console!==t&&(a.call(this,s,n),this[e].apply(this,arguments))}}function d(e,t,s){return i(e)||l.apply(this,arguments)}function c(e,s,o){var r,i=this;s=null==s?"WARN":s;var l="loglevel";function c(e){var s=(n[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=s)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+s+";"}catch(e){}}}function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var s=window.document.cookie,n=s.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(s.slice(n))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}function h(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=o||d,i.getLevel=function(){return r},i.setLevel=function(s,n){if("string"==typeof s&&void 0!==i.levels[s.toUpperCase()]&&(s=i.levels[s.toUpperCase()]),!("number"==typeof s&&s>=0&&s<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+s;if(r=s,!1!==n&&c(s),a.call(i,s,e),typeof console===t&&s<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){s=e,u()||i.setLevel(e,!1)},i.resetLevel=function(){i.setLevel(s,!1),h()},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var f=u();null==f&&(f=s),i.setLevel(f,!1)}var u=new c,h={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new c(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return h},u.default=u,u},void 0===(o="function"==typeof n?n.call(t,s,t,e):n)||(e.exports=o)}()},3771:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(923));t.default=class{constructor(e,t){this.targetWindow=e,this.moduleName=t,this.listeners={},this.responseQueue=new Map,o.default.info(`${this.moduleName}: Registering window message listener.`),window.addEventListener("message",(e=>{const{id:t,name:s,data:n}=e.data;if(null===t&&"__RESPONSE__"===s){const{responseFor:t}=e.data,s=this.responseQueue.get(t);return o.default.info(`${this.moduleName}: Response received for message id "${t}".`,{data:n}),void(void 0!==s&&(s(n),this.responseQueue.delete(t)))}if(void 0===this.listeners[s])o.default.warn(`${this.moduleName}: Message listener for name "${s}" does not exist.`);else{o.default.info(`${this.moduleName}: Message received with name "${s}".`,{data:n});const e=(0,this.listeners[s])(n);this.sendResponse(t,e)}}))}on(e,t){this.listeners[e]=t}send(e,t=null){let s=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;this.responseQueue.has(s);)s=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;return o.default.info(`${this.moduleName}: Sending message with name "${e}" and id "${s}".`,{data:t}),this.targetWindow.postMessage({id:s,name:e,data:t},"*"),new Promise((e=>{this.responseQueue.set(s,e)}))}sendResponse(e,t){Promise.resolve(t).then((t=>{this.targetWindow.postMessage({id:null,name:"__RESPONSE__",data:t,responseFor:e},"*")}))}}},4755:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(3771)),r=n(s(1928)),i=n(s(381)),a=n(s(3321)),l=new o.default(window.parent,"sandbox");l.on("ready",(function(){if("background"!==new URL(window.location.href).searchParams.get("page")){let e=0,t=0;const s=()=>{const s=window.getComputedStyle(document.body),n=window.getComputedStyle(document.documentElement),o=parseFloat(s.width)||parseFloat(n.width)||document.body.offsetWidth||document.body.scrollWidth,r=parseFloat(s.height)||parseFloat(n.height)||document.body.offsetHeight||document.body.scrollHeight;t===o&&e===r||l.send("resize",{height:r,width:o}).then((()=>{e=r,t=o}))};setTimeout(s,150),setInterval(s,150),window.addEventListener("resize",s)}l.send("data").then((e=>{window.XMLHttpRequest=(0,r.default)(l);try{delete window.localStorage,window.localStorage=(0,a.default)(l)}catch(e){}if(window.chrome=(0,i.default)(l,e.schema,e.appUrl,e.manifest,e.details,e.uiLanguage,e.locale,e.webAccessibleResources),void 0!==e.html&&(document.documentElement.innerHTML=e.html),void 0!==e.css){const t=document.createElement("style");t.textContent=e.css,document.head.appendChild(t)}new Function(e.js)(),l.send("started")}))}))},8727:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(8013));t.default=class{constructor(e){this.message=e,this.listenerCallbacks={},this.runtimeOnMessage=new o.default(e),e.on("chrome:listener-response",(({event:e,id:t,args:s})=>{if(void 0===this.listenerCallbacks[e])return;const n=this.listenerCallbacks[e].get(t);n&&n(...s)}))}findListenerId(e,t){let s=null;return this.listenerCallbacks[e].forEach(((e,n)=>{e===t&&(s=n)})),s}assign(e,t){if("runtime.onMessage"===e||"extension.onMessage"===e)return this.runtimeOnMessage.assign(t);switch(t){case"addListener":return void 0===this.listenerCallbacks[e]&&(this.listenerCallbacks[e]=new Map),s=>{if(!this.findListenerId(e,s)){const n=`listener-${Math.round(1e5*Math.random())}`;this.listenerCallbacks[e].set(n,s);const o={event:e,action:t,id:n};this.message.send("chrome:listener-action",o)}};case"removeListener":return s=>{if(void 0===this.listenerCallbacks[e])return;const n=this.findListenerId(e,s);if(n){this.listenerCallbacks[e].delete(n);const s={event:e,action:t,id:n};this.message.send("chrome:listener-action",s)}};case"hasListener":return t=>!!this.findListenerId(e,t);case"hasListeners":return()=>void 0!==this.listenerCallbacks[e]&&this.listenerCallbacks[e].size>0;default:return()=>{}}}}},7789:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.message=e}assign(e){return(...t)=>{let s=null;"function"==typeof t[t.length-1]&&(s=t.pop());const n={path:e,args:t,hasCallback:null!==s};s?this.message.send("chrome:call-method",n).then(s):this.message.send("chrome:call-method",n)}}}},8013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.message=e,this.listenerCallbacks=new Map,e.on("chrome:runtime-message",(t=>{const{id:s,responseId:n}=t,o=this.listenerCallbacks.get(s);if(o){const s=(...t)=>{const s={responseId:n,args:t};e.send("chrome:runtime-message-response",s)};o(t.message,t.sender,s)}}))}findListenerId(e){let t=null;return this.listenerCallbacks.forEach(((s,n)=>{s===e&&(t=n)})),t}assign(e){switch(e){case"addListener":return t=>{if(!this.findListenerId(t)){const s=`listener-${Math.round(1e5*Math.random())}`;this.listenerCallbacks.set(s,t);const n={event:"runtime.onMessage",action:e,id:s};this.message.send("chrome:listener-action",n)}};case"removeListener":return t=>{const s=this.findListenerId(t);if(s){this.listenerCallbacks.delete(s);const t={event:"runtime.onMessage",action:e,id:s};this.message.send("chrome:listener-action",t)}};case"hasListener":return e=>!!this.findListenerId(e);case"hasListeners":return()=>this.listenerCallbacks.size>0;default:return()=>{}}}}},381:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(8727)),r=n(s(7789)),i=["addListener","removeListener","hasListener","hasListeners","dispatch","dispatchToListener"];let a,l;function d(e,t,s=""){let n,o;const r=Object.keys(e);for(let c=0;c<r.length;c+=1){const u=r[c];o=s+(s?".":"")+u,n=e[u],null===n||"object"!=typeof n||Array.isArray(n)?void 0===t[u]&&("[Function]"===n?i.includes(u)?t[u]=a.assign(o.replace(`.${u}`,""),u):t[u]=l.assign(o):t[u]=n):(void 0===t[u]&&(t[u]={}),d(n,t[u],o))}}t.default=function(e,t,s,n,i,c,u,h){a=new o.default(e),l=new r.default(e);const f=window.chrome||{};f.tabs={},f.windows={};const p={getUILanguage:()=>c,getMessage:(e,t)=>{if("string"!=typeof e||t&&Array.isArray(t)&&t.length>9)return;let s="";if(u[e]&&("string"==typeof u[e]?s=u[e]:u[e].message&&(s=u[e].message)),t){let e=0;s=s.replace(/\$(\w+)\$/g,(s=>t[e++]||s))}return s}};f.i18n=p;const m=window.chrome.runtime||{};m.onMessage={},m.sendMessage=void 0,m.getManifest=()=>n,m.getBackgroundPage=e=>e(window),m.getURL=e=>void 0!==h[e]?h[e]:`${s}${e}`,f.runtime=m;const g={};g.onMessage=f.runtime.onMessage,g.getURL=f.runtime.getURL;const w=window.chrome.app||{};return w.getDetails=()=>i,f.extension=g,f.app=w,d(t,f),f}},3321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t=new Map;return e.send("local-storage:get").then((e=>{t=new Map(Object.entries(e))})),{setItem(s,n){t.set(s,n),e.send("local-storage:set",{keyName:s,keyValue:n})},getItem:e=>t.get(e)||null,removeItem(s){t.delete(s),e.send("local-storage:remove",{keyName:s})},clear(){t.clear(),e.send("local-storage:clear")}}}},1928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=new Map,s=["abort","error","load","loadend","loadstart","progress","timeout","readystatechange"];return e.on("xhr:response",(e=>{const{id:s,eventType:n,event:o,response:r,responseHeaders:i}=e,a=t.get(s);void 0!==a&&a&&(r.readyState&&(a.readyState=r.readyState),r.status&&(a.status=r.status),r.statusText&&(a.statusText=r.statusText),r.response&&(a.response=r.response),r.responseURL&&(a.responseURL=r.responseURL),r.responseType&&(a.responseType=r.responseType),r.responseText&&(a.responseText=r.responseText),i&&(a.responseHeaders=i),a[`on${n}`](o))})),class{constructor(){this.method="GET",this.url="",this.async=!0,this.requestHeaders=[],this.mimeType=null,this.timeout=null,this.readyState=0,this.status=0,this.statusText="",this.response="",this.responseType="",this.responseURL=null,this.responseText="",this.responseHeaders="",this.onabort=()=>{},this.onerror=()=>{},this.onload=()=>{},this.onloadend=()=>{},this.onloadstart=()=>{},this.onprogress=()=>{},this.ontimeout=()=>{},this.onreadystatechange=()=>{}}open(e,t,s=!0){this.method=e,this.url=t,this.async=s}setRequestHeader(e,t){this.requestHeaders.push({header:e,value:t})}overrideMimeType(e){this.mimeType=e}send(s=null){let n=`xhr-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;t.has(n);)n=`xhr-${Date.now()}-${Math.round(1e5*Math.random())}`;const o={id:n,method:this.method,url:this.url,async:this.async,body:s,headers:this.requestHeaders,responseType:this.responseType,timeout:this.timeout,mimeType:this.mimeType};t.set(n,this),e.send("xhr:send",o)}abort(){let s=null;t.forEach(((e,t)=>{e===this&&(s=t)})),s&&(t.delete(s),e.send("xhr:abort",{id:s}))}getAllResponseHeaders(){return this.responseHeaders}getResponseHeader(e){const t=this.responseHeaders.replace(/\r?\n/g,"\n").split("\n");if(!t)return null;for(let s=0;s<t.length;s+=1){const n=t[s].split(":");if(n.length<2)continue;if(n[0].trim().toLowerCase()===e.toLowerCase())return n[1].trim()}return null}addEventListener(e,t){s.includes(e)&&(this[`on${e}`]=t)}}}},923:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(2043));o.default.setLevel("ERROR",!1),t.default=o.default}},t={};(function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,s),r.exports})(4755)})();